<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pandalous</title>

    <!--link href="./bootstrap-customized/css/bootstrap.min.css" rel="stylesheet"-->
    <link href="./bootstrap-hacker/hacker.css" rel="stylesheet">
    <link rel="stylesheet" href="./jvectormap/jquery-jvectormap-2.0.3.css" type="text/css" media="screen"/>
    <!--[if lt IE 9]
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!--navgation bar-->
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <!--toggle botton for smart phone-->
          <button type="button" class="navbar-toggle collapsed" 
            data-toggle="collapse" data-target="#navbar" aria-expanded="false" 
            aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!--logo-->
          <a class="navbar-brand" href="#">Pandalous</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Menu</a></li>
            <li><a href="#">hogehoge</a></li>
          </ul>
        </div><!--/.nav-collapse -->

      </div><!--/.container-fluid -->
    </nav>


    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-2">
          <table class="table text-danger">
            <thead>
              <tr><th>SRC</th><th>DEST</th><th>PORT</th></tr>
            </thead>
            <tbody>
              <tr><td>choruru</td><td>taisho</td><td>22</td></tr>
              <tr><td>motomu</td><td>taisho</td><td>80</td></tr>
              <tr><td>hogehoge</td><td>taisho</td><td>443</td></tr>
              <tr><td>hogehoge</td><td>taisho</td><td>443</td></tr>
            </tbody>
          </table>
        </div>
        <div class="col-xs-10">
          <!--map-->
          <div id="map" style="width: 80vw; height: 80vh;">
          </div>
        </div>
      </div>
    </div>

    <div>
    <button onclick="add();">add()</button>
    </div>

    <div class="container-fluid">
    Footer
    </div>


    <script src="./jquery/jquery-1.11.3.js"></script>
    <script src="./jvectormap/jquery-jvectormap-2.0.3.min.js"></script>
    <script src="./bootstrap-customized/js/bootstrap.min.js"></script>
    <script src="./jvectormap/jquery-jvectormap-world-mill.js"></script>

    <script type="text/javascript">
      $(function(){
        $('#map').vectorMap({map: 'world_mill'});
        $(".jvectormap-container").children("svg")[0].setAttribute("id","svg")
        $("#svg").children("g")[1].setAttribute("id","geo")

        m_left = $('#map')[0].offsetLeft;
        m_top = $('#map')[0].offsetTop;
        m_width = $('#map')[0].offsetWidth;
        m_height = $('#map')[0].offsetHeight;
      });
    </script>

    <script type="text/javascript">
      function add(){
        $path = $(document.createElementNS('http://www.w3.org/2000/svg', 'path'));
        long1 = -122; //8.8.8.8
        lat1 = 37;    //8.8.8.8
        long2 = 139;  //133.93.0.0
        lat2 = 35;    //133.93.0.0
        x1 = (180+long1) * 0.91*m_width/360 -15;
        y1 = (lat1>=0) ? (180-lat1)*(m_height-117)/360+58+15 : (180+lat1)*(m_height-117)/360 +58
        x2 = (180+long2) *m_width/360 -15;
        y2 = (lat2>=0) ? (180-lat2)*m_height/360+15 : (180+lat2)*m_height/360

        $path.attr({
          d: "M "+x1+','+y1+' A 100,50 0 1,1 '+x2+','+y2,
          stroke: "red",
          fill: "none"
        })

        $('#geo').prepend($path);
      }
    </script>

  </body>
</html>
